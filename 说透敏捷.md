# 说透敏捷

### 开篇词 | 重识敏捷，让你的研发管理少走一些弯路

我建议你准备一个自己的小本子，随着课程的学习，总结你的敏捷案例集。本子的每一页分成左右两半，左边写你以前在研发管理方面的做法和困惑，右边写你学习过程中了解到的做法以及你想到的新做法。

### 01 | 灵魂拷问：如何利用敏捷思维更好地解决实际问题？

**典型的瀑布模式，**研发的整个工作流程都是按顺序进行的。整个项目过程，要先做需求调研，然后再做开发和测试，最后才能验收和上线。在这个过程中，所有的工作都是串行的，只有达到下一步的准入标准，我们才进行下一步工作。

**瀑布模型经常在以下 3 个方面饱受诟病：**

研发周期过长，导致研发跟不上业务发展的节奏。

研发不能很好地响应需求变化，导致客户满意度低。

不能很好地管控风险。

**为什么“瀑布模型”会存在这些问题呢？**

软件研发和传统的生产管理不同，它的产出物具有强烈的不确定性。而瀑布模型，其流程和步骤都是规定好的，而且计划与生产分离，说白了更适合确定性高的工作。那么在不确定性很高的研发工作面前，我们以处理确定性高的工作的方式和流程来管理它，毫无疑问是不奏效的。

**至少会选择下面这几个点来进行改进：**

从大的组织结构来讲，我们的团队应该组成一个个小的特性团队，团队是固定的，团队成员也要基本是固定的。

把需求按优先级排序，形成需求池，迭代地进行研发。

让客户积极地参与我们的研发过程，包括前期的需求调研梳理和后面的开发测试上线，在迭代有产出时就让客户来验收，让他们提意见和建议，以便我们在后面的迭代中随时调整。

### 02 | 老生常谈：你真的知道敏捷到底是什么吗？

***敏捷的价值观：正确理解敏捷的初心***

**5 条价值观**

个体和交互胜过过程和工具。

可以工作的软件胜过面面俱到的文档（敏捷重视可工作的、有价值的软件，减少一切不必要的文档）。

客户合作胜过合同谈判。

响应变化胜过遵循计划。

虽然右项有价值，但我们更重视左项。

**敏捷的初心**是通过一系列方法来让我们的研发工作更加灵活、有序和高效，所以它的价值观重视人的能动性，强调人与人之间的协作，也更重视对变化的应对，这些都是为了能够更好、更灵活地组织和管理研发工作。

***敏捷的原则：正确理解敏捷的基石***

**12 条原则**

我们最优先要做的是，通过尽早地、持续地交付有价值的软件使客户满意。

即使到了开发的后期，也欢迎改变需求。敏捷过程利用变化来为客户创造竞争优势。

经常性地交付可以工作的软件，交付的间隔可以从几个星期到几个月，交付的时间间隔越短越好。

在整个项目开发期间，业务人员和开发人员必须天天都在一起工作。

围绕被激励起来的个体来构建项目。给他们提供所需的环境和支持，并且信任他们能够完成工作。

在团队内部，最具有效果并且富有效率的传递信息方法，就是面对面地交谈。

工作的软件是首要的进度度量标准。

敏捷过程提倡可持续的开发速度。责任人、开发者和用户应该能够保持一个长期的、恒定的开发速度。

不断地关注优秀的技能和好的设计会增强敏捷能力。

以简洁为本，它是极力减少不必要工作量的艺术。

最好的构架、需求和设计出自于自组织的团队。

每隔一定时间，团队会针对如何才能更有效地工作进行反省，然后相应地对自己的行为进行调整。

**误解解读**

*敏捷就是快*

敏捷中的“快”其实指的是反馈更快，反馈更及时。这样，我们就能更快、更准地得到客户的真实反馈，也能尽早修正。在这个过程中，客户也可能会更早一点想清楚自己要什么样的产品，你也可能更早达成客户的目标。

通过不断检视客户的需求，总是优先做最有价值的事和减少浪费来完成。

*敏捷就是加班*

在迭代开始的时候，不会过度承诺，也就是能完成多少工作，就承诺多少工作。

严格遵守纪律。在迭代开始以后，原则上不会再增加需求，如果一定要往迭代待办事项列表里增加其它需求，就要同时从中拿走等量的需求。

稳定的开发节奏可以加强我们的预见性，这样我们预计的上线时间才可能是精准的。

***敏捷的方法：正确落地敏捷的基础***

凡是符合敏捷价值观和原则的方法论，都可以归到敏捷的大伞下。

**误解解读**

*Scrum 就是敏捷，敏捷就是 Scrum*

*敏捷是自由的，无约束的*

**3 个问题**

这个方法能解决什么样的问题？

有没有使用前提？

有没有相应的使用规则？

***总结***

敏捷 = 价值观 + 原则 + 一系列符合价值观和原则的方法。

### 03 | 评估诊断：成功迈出敏捷推进的第一步

在我们决定推进敏捷前，第一步就要评估企业目前的整体情况是什么样的，它在文化、实践、工具等维度上，已经达到了什么程度？它有什么痛点亟待解决？

***评估诊断的方法步骤***

第一步：挑选代表性项目。这一步类似抽样调查中的抽样。

第二步：访谈评估。从流程、组织、人员技能、度量和技术等维度，对项目进行深度评估。这一步的目的是通过访谈有意识地探查项目的痛点（评估诊断的目的是为了解自己的现状是什么，了解自己的痛点在哪里，并针对这些问题和痛点，结合短期要达成的目标，找到解决方案，制定合理的计划）。

第三步：制定转型计划。痛点不同，计划也不同，一定要有针对性地做计划方案。

第四步：沟通。沟通评估结果和相应计划，以便整个团队达成一致意见。

***评估诊断案例分析***

我把这些项目中的团队成员分成不同角色，例如开发、测试、运维、需求、项目管理人员等等，依次去和他们访谈，这主要是为了全面了解项目的研发流程，了解每个角色在研发活动中的工作情况，也了解各个角色之间的协作情况。

首先，虽然这些团队进行了敏捷尝试，但成熟度并不高。

解决方案：对已经推进敏捷的团队，重新检视他们的实践情况，固化已经做得很好的地方。

其次，该企业未推进敏捷的团队现在采用的是瀑布模式，对敏捷了解甚少。

解决方案：第一步，先解决认知问题，对未推进敏捷的团队进行专业的基础知识培训；第二步，选择试点团队示范怎么做。可以将团队拆分成 10 人以内的全功能小团队，根据项目的痛点做相应试点计划，推进后定期做总结回顾，并邀请试点团队分享经验。

最后，这些团队在跨团队交流方面有很大的障碍，这表现在业务人员与开发测试团队隔离，目标不统一，参与敏捷的投入度明显不够。

解决方案：提出业务与研发团队的组织变革，建立产品负责人制度。

**短期计划**

在敏捷中，计划的制定是渐进明细的，这也就是说，近期的计划可以具体到可实施的细节，而远期的计划则是粗略的，所以更长远的计划我们并未在评估和诊断结束之后马上就开始做。此外，因为不清楚敏捷在这个公司里的试验效果如何，所以我们还是要先做个短期试验，由试点团队试点之后，根据实施的情况做回顾和总结，再推导出进一步的长期计划。

### 04 | 团队试点（一）：让你的敏捷实践“事半功倍”

***如何做好敏捷试点前的准备？***

**选择试点团队**

有以下这些特征的团队会成为我们的首选：

采纳敏捷的意愿相对强烈；

业务价值高或采纳敏捷会在短期内给团队带来很大收益。

**前期准备工作细则**

从 6 个方面去准备：

* 组织和人员

  说到底敏捷是要靠人来执行和推动的，因此，在所有准备工作中，这一条是最重要，也是最需要你花费心力来做好的，它直接关乎了敏捷试点乃至整个敏捷推进工作能否成功。

  从组织层面来说，你要查看当前的项目组织结构是否适合做敏捷，如果不适合，就要重新组织。从人员层面来说，你需要对参与试点的人员进行相关培训。

  **组织层面**

  简而言之，就是“高内聚，低耦合”。

  引申用在组织结构中，高内聚指的是日常工作中，全功能小团队内部成员之间的沟通合作更紧密；低耦合则指的是，团队之间的沟通协作要远比团队内部的少。

  Spotify 框架分两层，下面一层是 Squad，指的是一个个全功能小团队，每个小团队中都有自己的业务分析师、开发人员、测试人员和迭代经理（Iteration Manager），能端到端负责一个需求或者产品。一般来说，团队中的人数要限制在 5～9 人，当团队人数超过 9 人时，也要分拆成不同的 Squad。而当 Squad 超过 5 个时，就要考虑把它们划分到不同的 Tribe（部落）中去，它是组织结构的第二层。在敏捷中，我们就是按照从 Tribe 到 Squad 这样的线条去管理团队的。

  **人员层面**

  进行“敏捷思想基础”和“敏捷实践基础”两门基础课程培训；

  组织拆书会，选择一些敏捷基础的书籍，每个人都来读一节，一起来分享，这样团队成员很快就有了一定的敏捷知识储备。

* 管控治理规则

  我们做了架构和设计的治理规则，质量管理策略规则等等。

  以架构治理规则为例，会约定该产品采用什么样的架构，整个开发过程中架构怎么做，以及是否存在架构评审环节等。

* 需求范围

  项目的高阶需求范围、高阶发布计划；

  高阶的史诗级故事；

  近期 2 个迭代要开发的用户故事。

  **如何准备好这些用户故事呢？**通常我们会开几个工作坊，一起来头脑风暴一下。这里请你注意，用户故事不仅要准备好相应的故事描述，还要有验收标准。

* 架构

  在项目早期，进行一些高层次的架构建模，会有助于团队与关键利益相关人商讨系统采取的技术策略，这样做的关键目标是快速识别出架构策略，快速完成架构建模。

  我们通过召开建模的头脑风暴会议，讨论了系统的功能特征，并思考了实现这些特征的高层设计策略，从技术图表、用户交互流程图、领域图和变更流程图四个方面做了建模。

* 方法和工具

  **方法**

  起初我们在管理实践上选择了 Scrum，在技术实践上选择了单元测试、自动化回归测试，还有搭建 DevOps 流水线。由于团队的老旧代码过多，做单元测试的收益不大，所以我们及时调整，优先推进了自动化接口测试、自动化回归测试和 DevOps 流水线，而选择在试点后再尝试做单元测试。

  **工具**

  工作过程管理工具，主要指研发作业流程管理工具，比如 Jira 和 Trello 等，国内也有人用禅道。

  我们选择了 Jira 做工作过程管理工具，另外，考虑到目前 Jenkins 做持续集成的案例比较多，为了日后方便，我们又选择了它来做持续集成，并用 SonaQube 来做代码扫描。

* 办公环境设施

  如果项目都在一个区域，就还要有适用于敏捷开发的办公环境，如物理看板和开放式的工位等等。

### 05 | 团队试点（二）：打造一支无往不胜的敏捷团队

***一起制订社会契约***

它本指一个社会里的全体成员，为了更好地生活，制定了一些基本准则，大家一起来遵守。用在团队中，指的就是团队里的行为公约，也就是为了让团队中每个成员都能加强协作、发挥价值，一起来约定的一些基本准则。在工作中，如果有任何成员的行为影响了团队协作，其他成员都可以拿这个契约来约束他，这样就可以“对事儿不对人”，在处理不良行为的时候更有说服力。

落地社会契约的过程，其实就是团队内部相互认可、磨合和协作的过程。

把大家都同意的行为准则留下来，就形成了团队的“社会契约”。

“社会契约”做完以后要张贴到所有团队成员都可以看到的地方，以便整个团队时时可以看到它，感受它带来的激励和约束。

***回顾会议，引导团队的自主性***

团队工作中做得好的地方是什么？

做得不好的地方又是什么？

除此之外，有没有什么其它疑问？

回顾会议是有时间盒的，一般不会超过 1 个半小时。

通过回顾会议来引导团队思考，所有的改进就不是我作为“敏捷教练”安排给团队来改进的，而是团队自己思考出来的行动。身为敏捷教练，我只需要将专业的知识和做法示范给团队即可，团队会更愿意践行自己主动思考出来的行动，这样，整个团队的行为和习惯就会转变得非常顺畅。

***成绩墙与错题集，记录团队敏捷的成长***

### 06 | 规模化推广：复制粘贴试点的经验就够了吗？

***规模化推广≠直接复制试点经验***

当小团队数量多于 5 个时，如果你用的是 Spotify 这个组织模式，那小团队的管理就上升到部落（Tribe）级别，这时就要考虑部落内的管理了；而如果你的团队数量超过一个部落的范畴，你还需要考虑部落与部落间的管理。

从试点到规模化推广，是要从团队内敏捷扩充到团队间敏捷的过程。由于牵涉到团队间的协同管理，团队间的敏捷较之团队内的敏捷更为复杂，因为你要开始考虑让各个团队方向一致而不是互相羁绊，还要考虑跨多个迭代、多个团队、多个产品的情况下推进计划和安排优先级，更要考虑团队间的依赖、更大规模地沟通协调、多团队版本控制等一系列的问题。

***规模化推广的正确方法***

要想做好敏捷的规模化推广，不要套用框架，也不要被框架限制，只要它们的可取之处能帮到我们，就可以有选择地拿来使用。

选择合适的规模化推广策略。推广时该选择激进式变革还是渐进式改革？

做好敏捷文化铺垫，培养好敏捷的中坚力量。

搭建适合敏捷的工作环境，做好必要的工具和自动化准备。

组织级别的敏捷度量以及持续改进。

重视大型团队的敏捷导入与推广。

***规模化推广实例分析***

大型团队敏捷的导入和推广，首先要打造端到端的、从需求到开发到测试到运维到运营的敏捷全生命周期，向业务敏捷靠拢。

**敏捷走到业务那里就卡壳，业务人员参与度低（业务敏捷）**

定制度：确立产品负责人制度，将过去以“项目”为中心的管理改为以“产品”为中心的管理。

定反馈机制：在整个产品研发流程中进行数据收集和处理，做到从业务创意和机会捕捉到需求识别，到开发上线，再到业务运营的整体大反馈闭环。这样做的好处是为端到端的研发过程提供了数据支持，以便在后续工作中识别整个研发过程的瓶颈，为持续改进做支持。

**跨团队沟通不畅，协作效率低（团队间敏捷）**

要建立各团队间的敏捷实践，就需要提前安排支持工作。这样，你们团队需要协助的工作就会被排入对方的工作列表，就更加易于团队间依赖关系的管理，省去了很多无效的沟通和无谓的等待。

建立沟通机制，对齐团队目标：定义了一系列关于产品团队内以及与 Scrum 团队间的沟通策略和沟通机制，定期的产品集体计划会议，并将团队间的依赖放到看板上，通过 Scrum of Scrum 来定期沟通进展。其它还包括一些具体的技术实践，例如怎么进行团队间版本控制，团队间的架构解耦等等。

* 定义了一系列关于业务分析师的沟通策略和沟通机制，在“做什么”的目标上对齐，即产品目标对齐

  产品团队中，业务分析师每天有自己的站立会议，沟通各自的产品工作，这样来保证不同团队间的产品工作内容是可以协同的，既不会让目标分解后有产品内容落掉，也不会有做重复的；Scrum 团队中，业务分析师会定期跟团队开需求梳理会议，也会有需求做完后的评审会议，平时也有跟团队成员的不定时沟通，例如沟通用户故事的内容和验收准则等。

  在组织中，业务分析师在产品管理中起到了承上启下的作用。他承担了两部分工作，一个是在产品团队里，定期聚在一起来看各自的产品目标分解，来完善自己小团队需要做的产品细节内容，另一个是要到各自的 Scrum 团队去，给 Scrum 团队成员讲解需求细节等等，以便于团队能够正确理解需求细节并在此基础上正确实施。

* 定期的产品集体计划会议，保证在“怎么做”的目标上对齐

  产品负责人来给大家宣讲未来两个月的产品目标，并简单介绍产品主要要完成的功能；各个业务分析师把各自团队需要做的细化需求展示给他们各自的团队，该需求列表是排好优先级的；Scrum 团队对需求条目进行粗略估算，估算完毕后大家根据各自的产能进行 4 个迭代的需求排步，在排布的过程中，识别各个团队之间的依赖；在做排布的过程中，各团队的 Scrum Master 要聚到一起看依赖的情况，并一起做一张依赖关系表和依赖的开发安排。在会议结束的时候，大家一起制定了未来 2 个月的迭代计划，识别了各个团队之间的依赖，并在会议结束的时候将团队依赖做到看板上，以便后续管理依赖。

  我们的产品集体计划会议，类似于 Safe 的增量计划会（PI Planning）。

* 定期的团队的 Scrum Master 之间的 Scrum of Scrum 会议，来沟通大家各自的进展

  这个会议一般在一周中安排 2-3 次，如果团队间的依赖开发有延迟，就会提前预警。

***总结***

**产品管理**强调 What，也就是做什么产品。重点在需求管理，计划管理，发布管理。产品管理既关注产品的具体形式，也关注产品的实现过程，也要对最终使用产品的用户负责。
**项目管理**强调 How，怎么做，主要是任务管理，侧重的是如何实现这些需求。项目管理更关心达成项目目标实现的过程。

### 07 | 填坑指南：填好这 4 个坑，快速做对敏捷

***一、团队说他们不想做敏捷***

***二、不理解敏捷背后的意义，把它当作一种新的流程，而忘记它的核心是持续改进***

敏捷本身是一种变革，是从指挥和控制到协作的、以团队为中心的结构性转变，它也涉及到人的思维和习惯上的改变，归根结底不是那么容易的。因此这种转变需要一个有丰富经验和影响力的人来持续引导，敏捷教练就是这样的角色。

***三、Scrum 过程被严重缩减，只剩下每日站会***

最重要的问题是他们没有培养出属于自己的合格的 Scrum Master，这导致敏捷教练或咨询师撤场以后，敏捷的火种无人守候，纪律也没人看管。

**认识到 Scrum Master 在敏捷实践中的重要性：**一个好的 Scrum Master 在引导（facilitation）、教育（teaching）、辅导（mentoring）、教练（coaching）这四个方面都有很强的能力，并能根据具体的情景，选择专项的能力帮助团队体验敏捷，坚定维持团队新养成的敏捷习惯。

**要想将敏捷推进到底，必须在基层留有敏捷的火种：**在推进敏捷之初，团队就应该计划一系列 Scrum Master 的培养活动，识别出优秀的 Scrum Master，然后相互配合着推进敏捷；在敏捷实践后期，由 Scrum Master 来负责引导团队，并听取敏捷教练的反馈意见，这样在教练离开之后，培养好的 Scrum Master 就会接过敏捷的大旗，专心引导和辅导团队，在团队遇到困难时及时帮助解决。

***四、筒仓中的敏捷***

推动对高管层面的宣讲，成立更高级别的敏捷实践督导团队。

### 08 | 避雷策略：如何防止你的敏捷变为“小瀑布”？

***真敏捷，还是“小瀑布”？***

以需求为例，一般来说，团队会尽可能有效拆分需求，这样进入到迭代内的需求就可以是多个独立的小需求。小到什么程度呢？小到每个需求都可以在很短的时间内，比如 2～3 天内，完成开发和测试，最长也不要超过一个迭代周期。

这样，在开发人员写代码的时候，测试人员就同步在写测试案例，或者在考虑使用自动化测试方案。由于需求拆分得足够小，所以，很可能第一个小需求在迭代后的第二天就可以交付测试了，在测试人员测试的同时，开发人员就继续开发下一个小需求，由此就形成了一个良好的循环。

***为什么你把敏捷玩成了“小瀑布”？***

第一个原因是有些团队其实并没有真正地了解敏捷，团队遇到痛点，他们只了解了皮毛，就拍脑袋炮制了一个所谓的“敏捷”流程。

第二个原因是需求太大。

***如何避免把你的敏捷做成“小瀑布”？***

“我们最优先要做的是尽早地、持续地交付有价值的软件来使客户满意”，先把客户的需求拿来看一下，挑选好需求，并先从有价值的、优先级最高的开始做。

把“3 个月做完项目”这个目标转换成“3 个月做一个让客户满意的产品”。

我们工作的结束点不应该是把之前所有计划的工作做完，而是把客户需要的工作做完。

做需求拆分的目的，都是把大需求拆成一个个能够独立开发测试的小需求。只有这样，我们才能在迭代中同时做几个小需求，而不需要等待，并且在测试完成后，这些小需求也能独立上线。